<div class="container-fluid">
<div class="row">
  <div class="col col-xs-12 col-sm-12 col-md-12 col-lg-12 col-centered">
    <div style="height: 305px">
      <carousel interval="myInterval">
        <slide ng-repeat="slide in slides" active="slide.active">
          <img ng-src="{{slide.image}}" style="margin:auto;">
          <div class="carousel-caption">
            <h4>Slide {{$index}}</h4>
            <p>{{slide.text}}</p>
          </div>
        </slide>
      </carousel>
    </div>
  </div>
</div>
<div class="row">
  <div class="page-header">
      <h1 class="text-center">Job Postings
        <span>
          <button tooltip="Add Job!" class="btn btn-success glyphicon glyphicon-plus" ng-click="open('lg')"> </button>
        </span>
      </h1>
      <h3>Location Info: <i ng-if="loadingLocation" class="fa fa-spinner fa-pulse"></i><br>         
        Latitude:{{myPosition.coords.latitude}} <br>
        Longitude: {{myPosition.coords.longitude}} <br>
        Address: {{currLocation.address}}<br>
        City: {{currLocation.city}}<br>
        State: {{currLocation.state}}<br>
        Country: {{currLocation.country}}<br>
        Postal Code: {{currLocation.zip}}<br>
        <p ng-show="myPosition.error">
          Error ({{myPosition.error.code}}): {{myPosition.error.message}}
        </p>
      </h3>
    </div>
</div>
<div class="row">
  <div class="col col-xs-6 col-sm-6 col-md-6 col-lg-6">
    <h3 class="text-center">Most Recent</h3>
    <div class="well">
      <div class="text-center"ng-repeat="post in posts | orderBy:'timestamp':true" style="margin-top:5px;">
        <!-- <span ng-bind-html="post.image"></span> -->
        <span ng-if="post.author.avatarVersion">
          <image ng-src="{{cloudinaryBaseUrl}}{{post.author.avatarVersion}}/profile/{{post.author._id}} ">
        </span>
        <span ng-if="!post.author.avatarVersion">
          <image ng-src="{{cloudinaryDefaultPic}}">
        </span>
        <span style="font-size:20px; margin-left:10px;">
          <a href="#/posts/{{post._id}}">
            {{post.title | limitTo:32}} ...
          </a>
        </span>
        <span ng-show="post.author">
          posted by <a href="#/user/{{post.author._id}}/profile">{{post.author.username}}</a> on {{post.timestamp}} |
        </span>
        <span>
         {{post.reviews.length}} Comments
        </span>
      </div>
    </div>
  </div>
  <div class="col col-xs-6 col-sm-6 col-md-6 col-lg-6">
    <h3 class="text-center">Some Other Category</h3>
    <div class="well">
      <div class="text-center"ng-repeat="post in posts | orderBy:'timestamp':true" style="margin-top:5px;">
        <span ng-if="post.author.avatarVersion">
          <image ng-src="{{cloudinaryBaseUrl}}{{post.author.avatarVersion}}/profile/{{post.author._id}} ">
        </span>
        <span ng-if="!post.author.avatarVersion">
          <image ng-src="{{cloudinaryDefaultPic}}">
        </span>
        <span style="font-size:20px; margin-left:10px;">
          <a href="#/posts/{{post._id}}">
            {{post.title | limitTo:32}} ...
          </a>
        </span>
        <span ng-show="post.author">
          posted by <a href="#/user/{{post.author._id}}/profile">{{post.author.username}}</a> on {{post.timestamp}} |
        </span>
        <span>
         {{post.reviews.length}} Comments
        </span>
      </div>
    </div>
  </div>
</div>
<script type="text/ng-template" id="myModalContent.html">
  <span ng-bind="currentLocation.city"></span>
      <div>
          <h3 class="text-center page-header">Add a new post</h3>
      </div>
      <div>
      <form style="margin-top:30px;" ng-show="isLoggedIn()">
        <div class="form-group col-md-4">
          <input type="text" class="form-control"
            placeholder="Title" ng-model="title"></input>
        </div>

        <div class="form-group col-md-3">
          <select class="form-control"
             ng-model="currLocation.city">
             <option value="">Select City</option>
             <option value="Newark">Newark</option>
             <option value="Piscataway Township">Piscataway</option>
          </select>
        </div>
        <div class="form-group col-md-3">
          <select class="form-control"
             ng-model="currLocation.state">
             <option value="">Select State</option>
             <option value="NJ">New Jersey</option>
          </select>
        </div>
        <div class="form-group col-md-3">
          <select class="form-control"
             ng-model="currLocation.country">
             <option value="">Select City</option>
             <option value="US">United States</option>
             <option value="Afghanistan">Afghanistan</option>
          </select>
        </div>
        <div class="form-group col-md-5">
          <input ng-if="currLocation.zip" id="zipCode" class="form-control"
             ng-model="currLocation.zip"></input>
          
          <input ng-if="!currLocation.zip" id="zipCode" class="form-control"
            placeholder="Postal Code" ng-model="zipCode"></input>
        </div>
        <div class="form-group col-md-3">
          <div class="input-group">
            <span class="input-group-addon" id="hrAddon">$</span>
            <input type="text" class="form-control"
            placeholder="Rate" ng-model="rate" describedby="hrAddon"></input>
            <span class="input-group-addon" id="hrAddon">/hr</span>
          </div>
        </div>

        <div class="form-group col-md-10">
          <textarea type="text" class="form-control"
            placeholder="Description" ng-model="description"></textarea>
        </div>

        <div class="form-group col-md-5">
          <label for="startDate">Start Date</label>
          <input id="startDate" type="date" class="form-control"
            placeholder="" ng-model="startDate"></input>
        </div>
        <div class="form-group col-md-5">
        <label for="endDate">End Date</label>
          <input id="endDate" type="date" class="form-control"
            placeholder="" ng-model="endDate"></input>
        </div>
        <div class="col-md-12 text-center">
          <button type="submit" class="btn btn-primary" ng-click="addPost()">Post</button>
          <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </form>

      </div>
      <div class="modal-footer">
          
      </div>
</script>
    <div ng-hide="isLoggedIn()">
      <h3>You need to <a href="/#/login">Log In</a> or <a href="/#/register">Register</a> before you can add a post.</h3>
    </div>
  </div>
</div>
</div>
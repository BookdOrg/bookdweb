<div ng-if="currentUser._id !== business.info.owner" class="container">
	<div class="page-header">
		<h1 class='text-center'>{{business.name}}</h1>
		<img ng-if="business.info.claimed" ng-src="{{business.info.icon}}" style="border-radius:20%"></image>
		<img ng-if="!business.info.claimed" ng-src="{{business.info.icon}}" style="border-radius:20%"></image>
		<!-- {{business.name}} -->
		
		<br>
		Rating: {{business.rating}}
		<br>
		Google Places: <a href="{{business.url}}">{{business.url}}</a>
		<br>
		Website: <a href="{{business.website}}">{{business.website}}</a>
		<br>
		Hours:
		<br>
		Phone: {{business.formatted_phone_number}}
		<br>
		Address: {{business.formatted_address}}
	</div>
	<h3 class="text-center">Services</h3>
	<div class="row">
		<div class="row">
		<div class="well col-md-3" style="height:200px;" ng-repeat="service in business.info.services">
			<div class="">
				<h4>{{service.name}}</h4>
				<h5>Price: ${{service.price}}</h5>
				<p>{{service.description}}</p>
			</div>
			<div>
			<button class="btn btn-primary text-center">Book Appointment</button>
			</div>
		</div>
	</div>
	</div>
	<div class="row" ng-if="!business.info.claimed">
		<h1 class="text-center">This business has not been claimed and does not offer services through Book'd yet.</h1>
	</div>	
	<div class="row">
		<h3>Reviews</h3>
		<div class="row">
			<div class="well col-md-3" ng-repeat="review in business.reviews track by $index">
				<img ng-src="{{review.user.image_url}}" style="border-radius:20%"></img>
				<br>User: <a href="{{review.author_url}}">{{review.author_name}}</a></span>
				<br>
				Rating: {{review.rating}}
				<br>
				{{review.text}}
			</div>
		</div>
	</div>
<!-- 	<div ng-if="!lbusiness.claimed" class="row text-center">
		<a href="#/claim/{{business.id}}">Claim Business</a>
	</div> -->
</div>

<div ng-if="currentUser._id == business.info.owner" class="container">
	<div class="page-header">
		<button class="btn btn-primary col-xs-offset-11 col-sm-offset-11 col-md-offset-11 col-lg-offset-11">Edit</button>
		<h1 class='text-center'>{{business.name}}</h1>
		<img ng-if="business.info.claimed" ng-src="{{business.info.icon}}" style="border-radius:20%"></image>
		<img ng-if="!business.info.claimed" ng-src="{{business.info.icon}}" style="border-radius:20%"></image>
		<!-- {{business.name}} -->
		
		<br>
		Rating: <img ng-src="{{business.rating_img_url}}"></image>
		<br>
		Google Places: <a href="{{business.url}}">{{business.url}}</a>
		<br>
		Business Website: <a href="{{business.website}}">{{business.website}}</a>
		<br>
		Hours:
		<br>
		Location: {{business.formatted_address}}
		<br>
		Phone: {{business.formatted_phone}}
	</div>
	<div class="row">
		<div class="btn-group col-xs-8 col-sm-4 col-md-3 col-xs-offset-4 col-sm-offset-8 col-md-offset-9 col-lg-offset-9" role="group">
			<button ng-click="open()" class="btn btn-primary">Add Service</button>
			<button class="btn btn-warning">Edit Services</button>
		</div>
		<h3 class="text-center ">Services</h3>
	</div>
	<div class="row">
		<div class="well col-md-3" style="height:200px;" ng-repeat="service in business.info.services">
			<div class="">
				<h4>{{service.name}}</h4>
				<h5>Price: ${{service.price}}</h5>
				<p>{{service.description}}</p>
			</div>
			<div>
			<button class="btn btn-primary text-center">Book Appointment</button>
			</div>
		</div>
	</div>
	<div class="row" ng-if="!business.info.services">
		<h1>Your business has not been claimed and does not offer services through Book'd yet.</h1>
	</div>	
	<div class="row">
		<div class="btn-group col-xs-10 col-sm-5 col-md-5 col-xs-offset-4 col-sm-offset-8 col-md-offset-9 col-lg-offset-9" role="group">
			<button ng-click="openEmployee()" class="btn btn-primary">Add Employee</button>
			<button class="btn btn-warning">Edit Employee's</button>
		</div>
		<h3 class="text-center ">Employee's</h3>
	</div>
	<div class="row">
		<div class="well col-md-3" ng-repeat="employee in business.info.employees">
			<div class="">
				<h4>{{employee.name}}</h4>
			</div>
		</div>
		<div class="row" ng-if="!business.info.employees.name">
		<h1 class="text-center">Your business does not have any employee's registered yet.</h1>
	</div>	
	</div>
	<div class="row">
		<h3>Reviews</h3>
		<div class="row">
			<div class="well col-md-3" ng-repeat="review in business.reviews track by $index">
				<img ng-src="{{review.user.image_url}}" style="border-radius:20%"></img>
				<br>User: <span><a href="{{review.author_url}}">{{review.author_name}}</a></span>
				<br>
				Rating: {{review.rating}}
				<br>
				{{review.text}}
			</div>
		</div>
	</div>
	<div ng-if="!business.info.claimed" class="row text-center">
		<a href="#/claim/{{business.id}}">Claim Business</a>
	</div>
</div>
<script type="text/ng-template" id="addServiceModal.html">
        <div class="modal-header">
            <h3 class="modal-title text-center">New Service</h3>
        </div>
        <div class="modal-body">
            <div class="row">
            	<form>
            		<div class="form-group col-md-12">
	            		<label for="serviceName">Service Name:</label>
	            		<input class="form-control" id="serviceName" ng-model="service.name">
	            	</div>
	            	<div class="form-group col-md-12">
	            		<label for="price">Price:</label>
	            		<select class="form-control" id="price" ng-model="service.price" placeholder="$0">
	            			<option value="" disabled selected>Select Service Price</option>
	            			<option value="0">$0</option>
	            		</select>
	            	</div>
	            	<div class="form-group col-md-12">
	            		<label for="serviceDescription">Description:</label>
	            		<textarea class="form-control" id="serviceDescription" ng-model="service.description"></textarea>
	            	</div>
            	</form>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok(service)">Create</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
</script>
<script type="text/ng-template" id="addEmployeeModal.html">
        <div class="modal-header">
            <h3 class="modal-title text-center">New Employee</h3>
        </div>
        <div class="modal-body">
            <div class="row">
            	<form>
            		<div class="form-group col-md-12">
	            		<label for="employeeId">Employee Id:</label>
	            		<input class="form-control" id="employeeId" ng-model="employee.id">
	            	</div>
	            	<div class="col-md-12">
	            		<button class="btn btn-success col-sm-offset-6 col-md-offset-6">Search</button>
            		</div>
            	</form>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok(employee)">Create</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>
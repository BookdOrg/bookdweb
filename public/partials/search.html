<section class="searchSection">
    <div class="container">
        <div class="row">
            <div class="page-header">
                <h1 class="text-center">Book'd Business Registration</h1>
            </div>
        </div>
        <div class="row" ng-if="center">
            <div class="col-xs-12">
                <ng-map center="{{center}}" zoom="16" class="map-container ">
                    <marker position="{{center}}"></marker>
                </ng-map>
            </div>
        </div>
        <div class="row search-place-container ">
            <form class="col-xs-6 form-horizontal" name="partnerForm">
                <div class="form-group">
                    <div class="col col-xs-10 col-xs-offset-1">
                        <label for="search">Search:</label>
                        <input class="form-control input-lg" id="search" g-places-autocomplete options="autocompleteOptions"
                               ng-model="query" placeholder="Start typing your businesses name" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col col-xs-10 col-xs-offset-1">
                        <label for="businessName">Business Name:</label>
                        <input class="form-control input-lg" id="businessName" ng-model="selectedQuery.name"
                               placeholder="Salon 23" required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col col-xs-5 col-xs-offset-1">
                        <label for="firstName">First Name:</label>
                        <input class="form-control input-lg" id="firstName" placeholder="{{currentUser.user.name}}"
                               required>
                    </div>
                    <div class="col col-xs-5">
                        <label for="lastName">Last Name:</label>
                        <input class="form-control input-lg" id="lastName" placeholder="{{currentUser.user.name}}"
                               required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col col-xs-5 col-xs-offset-1">
                        <label for="phone">Phone Number:</label>
                        <input class="form-control input-lg" id="phone" type="tel" placeholder="" required>
                    </div>
                    <div class="col col-xs-5">
                        <label for="email">Email:</label>
                        <input class="form-control input-lg" type="email" id="email"
                               placeholder="{{currentUser.user.email}}" value="{{currentUser.user.email}}" disabled
                               required>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col col-xs-5 col-xs-offset-1">
                        <label>Subscription:</label>
                        <select class="form-control input-lg" ng-model="selectedQuery.tier" required>
                            <option value="">Select Plan</option>
                            <option value="0"> Bronze - Free</option>
                            <option value="1"> Silver - Free</option>
                            <option value="2"> Gold - $7.99/mo</option>
                        </select>
                    </div>
                </div>
                <button class="btn btn-success btn-lg col-xs-offset-5"
                        ng-click="partnerForm.$valid && claim(selectedQuery)">Claim
                </button>
            </form>
            <div class="col-xs-6" ng-if="selectedQuery.name">
                <div class="col well col-xs-12 text-center">
                    <img ng-src="{{selectedQuery.icon}}"/>
                    <br>
                    Name: {{selectedQuery.name}}
                    <br>Phone Number: {{selectedQuery.formatted_phone_number}}
                    <br>Address: {{selectedQuery.formatted_address}}
                    <br>Google Places Page: <a href="{{selectedQuery.url}}">{{selectedQuery.url}}</a>
                </div>
            </div>
        </div>
    </div>
</section>
<script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h3 class="modal-title text-center">{{business.info.name}}</h3>
        </div>
        <div ng-if="status === 400" class="modal-body">
            {{business.message}}
        </div>
        <div ng-if="status === 200" class="modal-body">
            You request has gone through successfully, we will review the request and contact you with x time frame. Thank you. 
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" type="button" ng-click="ok()">OK</button>
        </div>
    </script>